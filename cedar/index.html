<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Cedar basics - SFU Cedar</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Cedar basics";
    var mkdocs_page_input_path = "cedar.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> SFU Cedar</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Cedar basics</a>
    <ul class="current">
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../atlas/">ATLAS setup</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">SFU Cedar</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Cedar basics</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/jburzy01/SFUCedarDocs/tree/main/docs/cedar.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h2 id="logging-in-to-cedar">Logging in to Cedar</h2>
<p>To ssh into the Cedar login node, run</p>
<pre><code>ssh -Y [username]@cedar.computecanada.ca
</code></pre>
<p>where <code>[username]</code> is your SFU computing ID.</p>
<h2 id="directories">Directories</h2>
<p>Cedar has several storage spaces or filesystems and you should ensure that you are using the right space for the right
task. </p>
<ul>
<li>HOME: While your home directory may seem like the logical place to store all your files and do all your work, in general this isn't the case - your home normally has a relatively small quota and doesn't have especially good performance for the writing and reading of large amounts of data. The most logical use of your home directory is typically source code, small parameter files and job submission scripts.</li>
<li>PROJECT: The project space has a significantly larger quota and is well-adapted to sharing data among members of a research group since it, unlike the home or scratch, is linked to a professor's account rather than an individual user. The data stored in the project space should be fairly static, that is to say the data are not likely to be changed many times in a month. Otherwise, frequently changing data - including just moving and renaming directories - in project can become a heavy burden on the tape-based backup system.</li>
<li>SCRATCH: For intensive read/write operations on large files (&gt; 100 MB per file), scratch is the best choice. Remember however that important files must be copied off scratch since they are not backed up there, and older files are subject to purging. The scratch storage should therefore be used for temporary files: checkpoint files, output from jobs and other data that can easily be recreated.</li>
</ul>
<p>See <a href="https://docs.alliancecan.ca/wiki/Storage_and_file_management#Storage_types">here</a> and
<a href="https://docs.alliancecan.ca/wiki/Cedar#Storage">here</a> for more details.</p>
<h2 id="resource-intensive-work">Resource intensive work</h2>
<p>The interactive login nodes (and containers started from them) are meant for light work such as compiling and running a
quick test job and for submitting to the batch system. Performing resource intensive tasks on these nodes can cause
issues for other users and is forbidden. All resource intensive tasks must use the batch system.</p>
<h3 id="submitting-batch-jobs">Submitting batch jobs</h3>
<p>Cedar uses the <a href="https://slurm.schedmd.com/documentation.html">SLURM</a> job scheduler to manage batch jobs. See
<a href="https://docs.alliancecan.ca/wiki/Running_jobs">here</a> for a guide.</p>
<h3 id="interactive-work">Interactive work</h3>
<p>If you need to do resource-intensive interactive work, you will need to get a resource allocation using the schedule.
To do this, you can run (for example)</p>
<pre><code>salloc --time=16:0:0 --mem-per-cpu=32G --cpus-per-task=1 --account=ctb-stelzer --nodelist=cdr1642
</code></pre>
<p>This will request a single CPU for 16 hours, with 32Gb of memory. You may need to replace <code>ctb-stelzer</code> with the name 
of the user that sponsored your account.</p>
<h3 id="disk-quota-exceeded-troubleshooting"><code>Disk quota exceeded</code> troubleshooting</h3>
<p>On cedar, files that you create will automatically be associated to your primary <a href="https://docs.oracle.com/cd/E19120-01/open.solaris/819-2379/userconcept-35906/index.html">group</a>, such as <code>ctb-stelzer</code>. This is relevant because the disk quotas are managed on a per-group basis. However, certain applications (such as MadGraph) can create files in a different group, which can lead to <code>disk quota exceeded</code> issues. To fix this, you can wrap the problematic command with <code>sg def-groupname -c</code>. E.g.</p>
<pre><code>sg def-stelzer -c &quot;./bin/mg5_aMC myScript.mg5&quot;
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../atlas/" class="btn btn-neutral float-right" title="ATLAS setup">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/jburzy01/SFUCedarDocs/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../atlas/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
